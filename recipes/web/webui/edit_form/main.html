<!DOCTYPE html>

<html>
  <body> 
  <div>
    <div>
      <p><em>Title:</em> {{ post.title }}</p>
      <p><em>Body:</em> {{ post.body }}</p>
      <template instantiate="if !post.editable"> 
        <input type='button' value='Edit' on-click='post.edit()'>
      </template>
    </div>
    
    <template instantiate="if post.editable"> 
      <div> Title: <input type="text" bind-value="post.title"><br />
        Body:<br /><textarea rows=4 cols=80 bind-value="post.body"></textarea>
      </div>
      <input type='button' value='Done' on-click="post.noEdit()" />

    </template>
  </div>
  <script type="application/dart">
    
    import 'package:web_ui/web_ui.dart';
    
    @observable
    class Post {
      String title, body;
      bool editable = false;
      Post(this.title, this.body);
      
      void edit() {
        editable = true;
      }
      
      void noEdit() {
        editable = false;
      }
    }
    
    Post post;
    
    main() {
      post = new Post('I just discovered Dart!', 
      'And I am really liking it.' 
      ' I have been following the Dart project since it started '
      'and it really looks like it is going to take off');
    }
  </script>
</body>
</html>
